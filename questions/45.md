# 問題 45

企業には、中断を処理できるステートレスアプリケーションがあります。アプリケーションは24時間利用可能である必要があります。トラフィックは営業時間中に大幅に増加します。これらの要件を満たすために、ベーストラフィックとピークトラフィックに最もコスト効率の良いインスタンスタイプはどれですか？

- A) ベーストラフィックとピークトラフィックの両方にリザーブドインスタンス
- B) ベーストラフィックにリザーブドインスタンス、ピークトラフィックにAmazon EC2 Fleetを使用したスポットインスタンス
- C) ベーストラフィックにオンデマンドインスタンス、ピークトラフィックにオートスケーリング付きオンデマンドインスタンス
- D) ベーストラフィックにオンデマンドインスタンス、ピークトラフィックにAmazon EC2 Fleetを使用したスポットインスタンス

## 正解

**B**

## 解説

### A) ベーストラフィックとピークトラフィックの両方にリザーブドインスタンス ❌

**不正解**。リザーブドインスタンスには1年または3年のコミットメントがあります。リザーブドインスタンスは、営業時間中にのみピークするワークロードにはコスト効率が良くありません。

> 📚 [リザーブドインスタンスについて詳しく学ぶ](https://aws.amazon.com/ec2/pricing/reserved-instances/)

---

### B) ベーストラフィックにリザーブドインスタンス、ピークトラフィックにAmazon EC2 Fleetを使用したスポットインスタンス ✅

**正解**。リザーブドインスタンスは、1年または3年の契約で一定の容量を使用することにコミットできるため、ベーストラフィックにコスト効率が良いです。リザーブドインスタンス契約の割引を受けることでコスト削減を実現できます。ピークトラフィック用のスポットインスタンスは、割引されたEC2容量を活用できます。EC2 Fleetと組み合わせることで、予測可能なベーストラフィックとピークトラフィックの両方に対応するキャパシティターゲットを設定できます。

> 📚 [リザーブドインスタンスについて詳しく学ぶ](https://aws.amazon.com/ec2/pricing/reserved-instances/)
> 
> 📚 [スポットインスタンスについて詳しく学ぶ](https://aws.amazon.com/ec2/spot/)
> 
> 📚 [EC2 Fleetについて詳しく学ぶ](https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/ec2-fleet.html)

---

### C) ベーストラフィックにオンデマンドインスタンス、ピークトラフィックにオートスケーリング付きオンデマンドインスタンス ❌

**不正解**。オンデマンドインスタンスは、価格が固定されているため、スポットインスタンスやリザーブドインスタンスと比較して高価です。オンデマンドインスタンスのみを使用する場合、ベーストラフィックにもピークトラフィックにも最もコスト効率の良いインスタンスタイプではありません。

> 📚 [EC2インスタンス購入オプションについて詳しく学ぶ](https://aws.amazon.com/ec2/pricing/)

---

### D) ベーストラフィックにオンデマンドインスタンス、ピークトラフィックにAmazon EC2 Fleetを使用したスポットインスタンス ❌

**不正解**。オンデマンドインスタンスは、ベーストラフィックに最もコスト効率の良い購入オプションではありません。ベーストラフィックはアプリケーションが24時間利用可能である必要があるため、リザーブドインスタンスを使用できます。この設定により、リザーブドインスタンスはオンデマンドインスタンスと比較して安価であるため、コスト削減が可能です。

> 📚 [EC2インスタンス購入オプションについて詳しく学ぶ](https://aws.amazon.com/ec2/pricing/)
